# 均衡方法及策略
## 辅助充电均衡
以电池SOC作为均衡判断依据，充电均衡过程中，对SOC较小的电池进行辅助充电，使其SOC与其他电池的SOC之间差距变小。
### 方案一
以电池SOC平均值与SOC最小值比较判别充电均衡终点：
1. 计算电池组中所有电池SOC平均值；
2. 找出当前状态下该电池组SOC最小的电池；
3. 计算SOC平均值与最小值的差值；
4. 若差值大于设定值，则对SOC最小的电池进行辅助充电均衡；若差值小于设定值，则不进行辅助充电（bangbang控制）。

### 方案二
以电池SOC最大值与SOC最小值比较判别充电均衡终点：
1. 找出SOC最大的电池和SOC最小的电池；
2. 计算SOC最大值和最小值的差值；
3. 若差值大于设定值，则对SOC最小的电池进行辅助充电均衡；若差值小于设定值，则不进行辅助充电（bangbang控制）。

> 注意点：
> 1. 以SOC最大值SOC_max与最小值SOC_min比较判别均衡终点时，首先需要获得SOC最大值SOC_max及其电池序号num_max,SOC最小值SOC_min及其电池序号num_min；
> 2. 计算得到SOC_max与SOC_min的差值Δ_max_min = SOC_max - SOC_min，若差值Δ_max_min小于设定值Δ1，则不进行均衡；若若差值Δ_max_min大于设定值Δ1，则进行后续处理；
> 3. 比较本周期最新SOC_max与上个周期辅助充电均衡电池SOC之间的差异并计算出差值Δ = SOC_max - SOC，若差值Δ小于设定值Δ2，则不改变均衡电池的序号；若差值Δ大于设定值Δ2，则更新辅助放电均衡电池序号。

## 辅助放电均衡
以电池SOC作为均衡判断依据，放电均衡过程中，对SOC较大的电池进行辅助放电，使其SOC与其他电池的SOC之间差异变小
### 方案一
以SOC最大值与SOC平均值比较判别放电均衡终点：
1. 计算出电池组中所有电池SOC的平均值；
2. 找出当前状态下SOC最大的电池；
3. 计算SOC平均值与最大值的差值；
4. 若差值大于设定值，则对SOC最大的电池进行辅助放电均衡；若差值小于设定值，则不进行辅助放电（滞环控制）。

### 方案二
以SOC最大值与SOC最小值比较判别放电均衡终点：
1. 找出SOC最大的电池和SOC最小的电池；
2. 计算SOC最大值与SOC最小值的差值；
3. 若差值大于设定值，则对SOC最大的电池进行辅助放电均衡；若差值小于设定值，则不进行辅助放电（滞环控制）。

> 注意点：
> 参考辅助充电方案二注意点
> 可以从以下角度进行理解：当存在两个最大SOC电池的SOC非常接近或者相等时，辅助放电开关会在改两个电池之间反复切换，会造成一系列不可控的影响，包括开关元件发热等问题。

## 辅助充放电混合均衡
以电池SOC作为均衡判断依据，辅助充放电混合均衡过程中，对SOC较小的电池进行辅助充电均衡，对SOC较大的电池进行辅助放电均衡，使较大SOC的电池和较小SOC的电池同时趋于SOC平均值，从而达到均衡效果。
同时采用SOC最大值与SOC最小值比较判别充电均衡终点：
1. 找出SOC最大值的电池及SOC最小的电池；
2. 计算SOC最大值与SOC最小值的差值；
3. 若差值大于设定值，则对SOC最大的电池进行辅助放电均衡或对SOC最小的电池进行辅助充电均衡；若差值小于设定值，则不进行辅助充电均衡和辅助放电均衡。

>注意点：
>1. 以SOC最大值与最小值比较判别均衡终点辅助充放电均衡时，首先得到SOC最大值SOC_max及对应电池序号num_max，SOC最小值SOC_min及对应电池序号num_min；
>2. 计算SOC平均值SOC_avg，计算SOC最大值SOC_max与SOC平均值SOC_avg之差max_avg = SOC_max - SOC_avg，SOC平均值SOC_avg与SOC_min之差avg_min = SOC_avg - SOC_min，从而可以得到SOC_max及SOC_min与SOC_avg距离的差值ΔΔ = max_avg - avg_min；
>3. 设定充放电模式切换滞环值为Δ，若ΔΔ < -Δ，则进入充电均衡模式；若ΔΔ > Δ,则进入放电均衡模式；若-Δ < ΔΔ < Δ，则进行后续判断；
>4. 计算SOC_max与SOC_min之差是否大于设定值，若大于设定值则进入充电均衡模式，其他情况则维持上一时刻状态。

# 单向辅助充电主动均衡与被动均衡结合的混合均衡策略
##